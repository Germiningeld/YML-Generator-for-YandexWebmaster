# YML Generator for Yandex Webmaster

Генератор YML-фида для Яндекс.Вебмастер на базе WordPress и WooCommerce.

## Описание

Этот скрипт генерирует YML-фид для Яндекс.Вебмастер на основе товаров из вашего магазина WooCommerce. Он поддерживает:

- Фильтрацию по категориям
- Исключение категорий
- Выгрузку всех товаров
- Поддержку скидок
- Дополнительные параметры товаров

## Требования

- WordPress 5.0 или выше
- WooCommerce 3.0 или выше
- PHP 7.2 или выше

## Установка

1. Скопируйте файл `yml-generator.php` в корневую директорию вашего WordPress сайта
2. Убедитесь, что файл доступен через веб-сервер
3. Проверьте права доступа к файлу (рекомендуется 644)

## Использование

### Базовый URL

```
https://your-site.com/yml-generator.php
```

### Параметры URL

- `all=1` - выгрузить все товары
- `categories=1,2,3` - выгрузить товары из указанных категорий (ID или slug)
- `exclude_categories=1,2,3` - исключить товары из указанных категорий (ID или slug)

### Примеры

Выгрузка всех товаров:

```
https://your-site.com/yml-generator.php?all=1
```

Выгрузка товаров из конкретных категорий:

```
https://your-site.com/yml-generator.php?categories=electronics,clothes
```

Выгрузка всех товаров, кроме определенных категорий:

```
https://your-site.com/yml-generator.php?all=1&exclude_categories=out-of-stock
```

## Настройка атрибутов

Для корректной работы скрипта необходимо создать следующие атрибуты в WooCommerce:

1. `pa_brand` - бренд товара
2. `pa_sales_notes` - примечания к продаже
3. `pa_delivery` - доступность доставки
4. `pa_pickup` - доступность самовывоза
5. `pa_store` - доступность в магазине

## Структура YML

Генерируемый YML-фид соответствует требованиям Яндекс.Вебмастер и включает:

- Информацию о магазине
- Список категорий
- Список товаров с ценами, описаниями и дополнительными параметрами

## Безопасность

- Скрипт проверяет наличие и активность WooCommerce
- Все выходные данные проходят через htmlspecialchars
- Включено логирование ошибок

## Лицензия

MIT License

## Поддержка

Если у вас возникли проблемы или есть предложения по улучшению, создайте issue в репозитории проекта.
